# Copyright (c) 2021 Markus Falb <markus.falb@mafalb.at>
# GNU General Public License v3.0+
# see LICENSE or https://www.gnu.org/licenses/gpl-3.0.txt
---

# use absolute path to virtualenv
# https://github.com/ansible/ansible/issues/22967
#
# and use ansible_user_dir
# https://github.com/ansible/ansible/issues/57436
# (~/.virtualenvs/molecule does not work) for
# setting TMPPATH environment variable for pip
#
mafalb_ansible_virtualenv: "{{ ansible_user_dir }}/.virtualenvs/ansible"

# we do not support ansible virtualenvs on python2
mafalb_ansible_virtualenv_python: "{{ 'python3' if ansible_python.version.major == 2 else ansible_python.executable }}"

# molecule 3.4 and newer insists on newer jinja2
# molecule 3.5 has a bug related to ansible collections
molecule_version: '3.3'

...
