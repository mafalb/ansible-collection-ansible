# Copyright (c) Markus Falb <markus.falb@mafalb.at>
# GNU General Public License v3.0+
# see LICENSE or https://www.gnu.org/licenses/gpl-3.0.txt
---
- name: Install ansible
  hosts: localhost
  pre_tasks:
    - name: Debug extra variables
      ansible.builtin.debug:
        var: virtualenv_packages
  roles:
    - role: mafalb.ansible.virtualenv
      when: python_interpreter is defined
      virtualenv_packages: "{{ virtualenv_packages }}"
      virtualenv_python: "{{ python_interpreter }}"
    - role: mafalb.ansible.virtualenv
      when: python_interpreter is not defined
      virtualenv_packages: "{{ virtualenv_packages }}"
