# vim: set ft=yaml ts=2 expandtab:
---
# 1: update ansible 2.9.10 -> 2.9.latest (specify 2.9)
# 2: update ansible 2.9.10 -> 2.9.latest (specify 2.9.*)
# 3: update molecule 3.1.4 -> 3.1.latest (specify 3.1)
# 4: update molecule 3.1.4 -> 3.1.latest (specify 3.1.*)
# 5: update molecule 3.1.4 -> 3
# 6: update molecule 3.1.4 -> 3.2
# 7: update ansible 2.10 to latest

- name: Converge
  hosts: all,!t_centos6,!t_ubuntuxenial

  tasks:

  # change the equivalent prepare task in
  # prepare.yml too
  # when changing tasks
  #

  - name: install installed1 - 3.1.4 / 2.9.10
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.9.10'
      molecule_virtualenv: ~/.virtualenvs/installed1

  - name: install installed2 - 3.1.4 / 2.9.10
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.9.10'
      molecule_virtualenv: ~/.virtualenvs/installed2

  - name: install installed3 - 3.1.4 / 2.10.1
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.10.1'
      molecule_virtualenv: ~/.virtualenvs/installed3

  - name: install installed4 - 3.1.4 / 2.10.1
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.10.1'
      molecule_virtualenv: ~/.virtualenvs/installed4

  - name: install installed5 - 3.1.4 / 2.9.10
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.9.10'
      molecule_virtualenv: ~/.virtualenvs/installed5

  - name: install installed6 - 3.1.4 / 2.9.10
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.9.10'
      molecule_virtualenv: ~/.virtualenvs/installed6

  - name: install installed7 - 3.1.4 / 2.10.1
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.10.1'
      molecule_virtualenv: ~/.virtualenvs/installed7

  - name: install installed8 - 3.1.4 / 2.10.1
    include_role:
      name: mafalb.ansible.molecule
    vars:
      molecule_version: '3.1.4'
      molecule_ansible_version: '2.10.1'
      molecule_virtualenv: ~/.virtualenvs/installed8

  roles:

  - role: mafalb.ansible.molecule

...
